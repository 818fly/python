## 函数
如果你需要多次重复相同的操作或类似的代码，就非常值得写一个可复用的函数。
函数的声明使用关键字def，返回时使用关键字return:
```python
def my_function(x, y, z=1.5):
    if z >1:
        return z*(x+y)
    else:
        return z/(x+y)
```
**如果Python达到函数的尾部时仍然没有遇到return语句，就会自动返回None。**
每个函数都可以有位置参数和关键字参数。关键字参数最常用于指定默认值或可选参数。在上面的这个函数的例子中，x和y是位置参数，z是关键字参数。这意味着函数可以通过一下任意一种方式进行调用：
my_function(1,2,z=0.7)  #z的默认值会改变
my_function(1,2,3)  #z的默认值会失效
my_function(1,2)    #z会使用默认值进行安排
注意：如果我们写的函数参数中有关键字参数，那么关键字参数必须放在位置参数的后面（如果有的话）
## 命名空间、作用域和本地函数
在Python中描述变量作用域的名称是命名空间。在函数内部，任意变量都是默认分配到本地命名空间的。本地命名空间是在函数被调用时生成的，并立即由函数的参数填充。当函数执行结束后，本地命
名空间就会被销毁。考虑以下函数:
```python
def func():
    a =[]
    for i in range(5):
        a. append(i)
```
当调用func()时，空的列表a会被创建，五个元素被添加到列表，之后a会在函数退出时被销毁。
## 返回多个值
```python
def func():
   a = 1
   b = 2
   c = 3
   return a, b, c
a, b, c = func()
# 接受这个返回值还可以使用  values = func()
# values实际上就是包含了3个元素的元组
```
这里实际上返回的是对象，也就是元组，而元组之后又被拆包为多个结果变量。
## 函数是对象
由于Python的函数是对象，很多在其他语言中比较难的构造在Python中非常容易实现。假设我们正在做数据清洗，需要将一些变形应用到下列字符串列表中:
```python
states = [' Alabama', 'Georgia!', 'Georgia', 'georgia', 'FlorIda', 'south carolina##',  'West virginia?' ]
```
在清洗这种数据需要做的事情很多：去除空格，移除标点符号，调整适当的大小写。
方式一：使用内建的字符串方法，结合标准的正则表达式模块re
```python
import re
states = [' Alabama', 'Georgia!', 'Georgia', 'georgia', 'FlorIda', 'south carolina##',  'West virginia?' ]
def clean_strings(strings):
    result = []
    for value in strings:
        value = value.strip()
        value = re.sub('[#?!]','',value)
        value = value.title()
        result.append(value)
    return result
clean_strings(states)
```
另一种会让你觉得有用的实现就是将特定的列表操作应用到某个字符串的集合上:
```python
import re
states = [' Alabama', 'Georgia!', 'Georgia', 'georgia', 'FlorIda', 'south carolina##',  'West virginia?' ]
def remove_punctuation(value):
    return re.sub('[!#?]','',value )
clean_ops = [str.strip, remove_punctuation, str.title ]

def clean_strings(strings, ops):
    result = []
    for value in strings:
        for function in ops:
            value = function(value)
        result.append(value)
    return result
clean_strings(states, clean_ops)
```
像这种更为函数化的模式可以使你在更高层次上方便地修改字符串变换方法。clean_strings函数现在也具有更强的复用性和通用性。

